<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>The NumPy array object &#8212; Scientific Python Lectures</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/nature.css?v=2d90e294" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/purecss@3.0.0/build/base-min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <script src="../../_static/documentation_options.js?v=f7c095fe"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=0729d509"></script>
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <script src="../../_static/scroll_highlight_toc.js?v=cbac5d29"></script>
    <link rel="icon" href="../../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../../search.html" />
 

<script defer data-domain="lectures.scientific-python.org" src="https://views.scientific-python.org/js/script.js"></script>

  </head><body>
    <!-- Use the header to add javascript -->
    

    <script type="text/javascript">
     // Function to toggle tip div
     function toggle_tip_div(obj) {
       $(obj).find("p.summary").remove();

       var content = $(obj).text();
       var html = $(obj).html();

       if ($(obj).hasClass("collapsed")) {
         // Expand
         $(obj).html('<p class="summary"><img src="../../_static/minus.png"></p>' + html);
       } else {
         // Collapse
         if(content.length > 50) {
           content = content.substr(0, 47);
         }
         $(obj).html('<p class="summary"><img src="../../_static/plus.png">' + content + '...</p>' + html);
       }

       $(obj).toggleClass("collapsed");
     }

     $(document).ready(function () {
       $(".tip").each(function() {
         $(this).find("p.admonition-title").remove();
       });
       // Collapse all tips and add plus sign
       $(".tip").each(function() { toggle_tip_div($(this)); });

       $(".tip")
         .click(function(event){
           // Change state of the global button
           $('div.related li.transparent').removeClass('transparent');
           toggle_tip_div($(this));
           if (event.target.tagName.toLowerCase() != "a") {
             return true; //Makes links clickable
           }
         });
     });
    </script>


    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a></li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Scientific Python Lectures</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">The NumPy array object</a></li>
     
    <!-- Insert a tip toggle in the navigation bar -->
        <li class="left">
        <!-- On click, expand all tips -->
        <!--
        <a>
            <img src="../../_static/plus.png"
                 alt="Expand tips" style="padding: 1ex;"/>
            <span class="hiddenlink">Collapse document to compact view</span>
        </a>
        -->
        </li>
    <li class="right edit_on_github"><a href="https://github.com/scipy-lectures/scientific-python-lectures/edit/main/intro/numpy/array_object.rst">Edit
      <span class="tooltip">
        Improve this page:<br/>Edit it on Github.
      </span>
    </a>
    </li>
    
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <section id="the-numpy-array-object">
<h1>The NumPy array object<a class="headerlink" href="#the-numpy-array-object" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="section-contents">
<p class="topic-title">Section contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#what-are-numpy-and-numpy-arrays" id="id1">What are NumPy and NumPy arrays?</a></p></li>
<li><p><a class="reference internal" href="#creating-arrays" id="id2">Creating arrays</a></p></li>
<li><p><a class="reference internal" href="#basic-data-types" id="id3">Basic data types</a></p></li>
<li><p><a class="reference internal" href="#basic-visualization" id="id4">Basic visualization</a></p></li>
<li><p><a class="reference internal" href="#indexing-and-slicing" id="id5">Indexing and slicing</a></p></li>
<li><p><a class="reference internal" href="#copies-and-views" id="id6">Copies and views</a></p></li>
<li><p><a class="reference internal" href="#fancy-indexing" id="id7">Fancy indexing</a></p></li>
</ul>
</nav>
<section id="what-are-numpy-and-numpy-arrays">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">What are NumPy and NumPy arrays?</a><a class="headerlink" href="#what-are-numpy-and-numpy-arrays" title="Link to this heading">¶</a></h2>
<section id="numpy-arrays">
<h3>NumPy arrays<a class="headerlink" href="#numpy-arrays" title="Link to this heading">¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd"><strong>Python</strong> objects<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>high-level number objects: integers, floating point</p></li>
<li><p>containers: lists (costless insertion and append), dictionaries
(fast lookup)</p></li>
</ul>
</dd>
<dt class="field-even"><strong>NumPy</strong> provides<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>extension package to Python for multi-dimensional arrays</p></li>
<li><p>closer to hardware (efficiency)</p></li>
<li><p>designed for scientific computation (convenience)</p></li>
<li><p>Also known as <em>array oriented computing</em></p></li>
</ul>
</dd>
</dl>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<div class="newline"></div><span class="go">array([0, 1, 2, 3])</span>
<div class="newline"></div></pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>For example, An array containing:</p>
<ul class="simple">
<li><p>values of an experiment/simulation at discrete time steps</p></li>
<li><p>signal recorded by a measurement device, e.g. sound wave</p></li>
<li><p>pixels of an image, grey-level or colour</p></li>
<li><p>3-D data measured at different X-Y-Z positions, e.g. MRI scan</p></li>
<li><p>…</p></li>
</ul>
</div>
<p><strong>Why it is useful:</strong> Memory-efficient container that provides fast numerical
operations.</p>
</section>
<section id="numpy-reference-documentation">
<h3>NumPy Reference documentation<a class="headerlink" href="#numpy-reference-documentation" title="Link to this heading">¶</a></h3>
<ul>
<li><p>On the web: <a class="reference external" href="https://numpy.org/doc/">https://numpy.org/doc/</a></p></li>
<li><p>Interactive help:</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">help</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">)</span>
<div class="newline"></div><span class="go">Help on built-in function array in module numpy:</span>
<div class="newline"></div>
<div class="newline"></div><span class="go">array(...)</span>
<div class="newline"></div><span class="go">    array(object, dtype=None, ...</span>
<div class="newline"></div></pre></div>
</div>
</div>
</li>
<li><p>Looking for something:</p></li>
</ul>
</section>
<section id="import-conventions">
<h3>Import conventions<a class="headerlink" href="#import-conventions" title="Link to this heading">¶</a></h3>
<p>The recommended convention to import NumPy is:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<div class="newline"></div></pre></div>
</div>
</section>
</section>
<section id="creating-arrays">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Creating arrays</a><a class="headerlink" href="#creating-arrays" title="Link to this heading">¶</a></h2>
<section id="manual-construction-of-arrays">
<h3>Manual construction of arrays<a class="headerlink" href="#manual-construction-of-arrays" title="Link to this heading">¶</a></h3>
<ul>
<li><p><strong>1-D</strong>:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<div class="newline"></div><span class="go">array([0, 1, 2, 3])</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">ndim</span>
<div class="newline"></div><span class="go">1</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">shape</span>
<div class="newline"></div><span class="go">(4,)</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<div class="newline"></div><span class="go">4</span>
<div class="newline"></div></pre></div>
</div>
</li>
<li><p><strong>2-D, 3-D, …</strong>:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]])</span>    <span class="c1"># 2 x 3 array</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span>
<div class="newline"></div><span class="go">array([[0, 1, 2],</span>
<div class="newline"></div><span class="go">       [3, 4, 5]])</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">ndim</span>
<div class="newline"></div><span class="go">2</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">shape</span>
<div class="newline"></div><span class="go">(2, 3)</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>     <span class="c1"># returns the size of the first dimension</span>
<div class="newline"></div><span class="go">2</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">]]])</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span>
<div class="newline"></div><span class="go">array([[[1],</span>
<div class="newline"></div><span class="go">        [2]],</span>
<div class="newline"></div>
<div class="newline"></div><span class="go">       [[3],</span>
<div class="newline"></div><span class="go">        [4]]])</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">shape</span>
<div class="newline"></div><span class="go">(2, 2, 1)</span>
<div class="newline"></div></pre></div>
</div>
</li>
</ul>
<aside class="topic green">
<p class="topic-title"><strong>Exercise: Simple arrays</strong></p>
<ul class="simple">
<li><p>Create a simple two dimensional array. First, redo the examples
from above. And then create your own: how about odd numbers
counting backwards on the first row, and even numbers on the second?</p></li>
<li><p>Use the functions <a class="reference external" href="https://docs.python.org/3/library/functions.html#len" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">len()</span></code></a>, <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.shape.html#numpy.shape" title="(in NumPy v2.3)"><code class="xref py py-func docutils literal notranslate"><span class="pre">numpy.shape()</span></code></a> on these arrays.
How do they relate to each other? And to the <code class="docutils literal notranslate"><span class="pre">ndim</span></code> attribute of
the arrays?</p></li>
</ul>
</aside>
</section>
<section id="functions-for-creating-arrays">
<h3>Functions for creating arrays<a class="headerlink" href="#functions-for-creating-arrays" title="Link to this heading">¶</a></h3>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>In practice, we rarely enter items one by one…</p>
</div>
<ul>
<li><p>Evenly spaced:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="c1"># 0 .. n-1  (!)</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<div class="newline"></div><span class="go">array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="c1"># start, end (exclusive), step</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span>
<div class="newline"></div><span class="go">array([1, 3, 5, 7])</span>
<div class="newline"></div></pre></div>
</div>
</li>
<li><p>or by number of points:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>   <span class="c1"># start, end, num-points</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span>
<div class="newline"></div><span class="go">array([0. ,  0.2,  0.4,  0.6,  0.8,  1. ])</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span>
<div class="newline"></div><span class="go">array([0. ,  0.2,  0.4,  0.6,  0.8])</span>
<div class="newline"></div></pre></div>
</div>
</li>
<li><p>Common arrays:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>  <span class="c1"># reminder: (3, 3) is a tuple</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<div class="newline"></div><span class="go">array([[1.,  1.,  1.],</span>
<div class="newline"></div><span class="go">       [1.,  1.,  1.],</span>
<div class="newline"></div><span class="go">       [1.,  1.,  1.]])</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span>
<div class="newline"></div><span class="go">array([[0.,  0.],</span>
<div class="newline"></div><span class="go">       [0.,  0.]])</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span>
<div class="newline"></div><span class="go">array([[1.,  0.,  0.],</span>
<div class="newline"></div><span class="go">       [0.,  1.,  0.],</span>
<div class="newline"></div><span class="go">       [0.,  0.,  1.]])</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">diag</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]))</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span>
<div class="newline"></div><span class="go">array([[1, 0, 0, 0],</span>
<div class="newline"></div><span class="go">       [0, 2, 0, 0],</span>
<div class="newline"></div><span class="go">       [0, 0, 3, 0],</span>
<div class="newline"></div><span class="go">       [0, 0, 0, 4]])</span>
<div class="newline"></div></pre></div>
</div>
</li>
<li><p><code class="xref py py-mod docutils literal notranslate"><span class="pre">np.random</span></code>: random numbers (Mersenne Twister PRNG):</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="mi">27446968</span><span class="p">)</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">rng</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>       <span class="c1"># uniform in [0, 1]</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<div class="newline"></div><span class="go">array([0.64613018, 0.48984931, 0.50851229, 0.22563948])</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">rng</span><span class="o">.</span><span class="n">standard_normal</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>      <span class="c1"># Gaussian</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span>
<div class="newline"></div><span class="go">array([-0.38250769, -0.61536465,  0.98131732,  0.59353096])</span>
<div class="newline"></div></pre></div>
</div>
</li>
</ul>
<aside class="topic green">
<p class="topic-title"><strong>Exercise: Creating arrays using functions</strong></p>
<ul class="simple">
<li><p>Experiment with <code class="docutils literal notranslate"><span class="pre">arange</span></code>, <code class="docutils literal notranslate"><span class="pre">linspace</span></code>, <code class="docutils literal notranslate"><span class="pre">ones</span></code>, <code class="docutils literal notranslate"><span class="pre">zeros</span></code>, <code class="docutils literal notranslate"><span class="pre">eye</span></code> and
<code class="docutils literal notranslate"><span class="pre">diag</span></code>.</p></li>
<li><p>Create different kinds of arrays with random numbers.</p></li>
<li><p>Try setting the seed before creating an array with random values.</p></li>
<li><p>Look at the function <code class="docutils literal notranslate"><span class="pre">np.empty</span></code>. What does it do? When might this be
useful?</p></li>
</ul>
</aside>
</section>
</section>
<section id="basic-data-types">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Basic data types</a><a class="headerlink" href="#basic-data-types" title="Link to this heading">¶</a></h2>
<p>You may have noticed that, in some instances, array elements are displayed with
a trailing dot (e.g. <code class="docutils literal notranslate"><span class="pre">2.</span></code> vs <code class="docutils literal notranslate"><span class="pre">2</span></code>). This is due to a difference in the
data-type used:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">dtype</span>
<div class="newline"></div><span class="go">dtype(&#39;int64&#39;)</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">])</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">dtype</span>
<div class="newline"></div><span class="go">dtype(&#39;float64&#39;)</span>
<div class="newline"></div></pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Different data-types allow us to store data more compactly in memory,
but most of the time we simply work with floating point numbers.
Note that, in the example above, NumPy auto-detects the data-type
from the input.</p>
</div>
<hr class="docutils" />
<p>You can explicitly specify which data-type you want:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">dtype</span>
<div class="newline"></div><span class="go">dtype(&#39;float64&#39;)</span>
<div class="newline"></div></pre></div>
</div>
<p>The <strong>default</strong> data type is floating point:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">dtype</span>
<div class="newline"></div><span class="go">dtype(&#39;float64&#39;)</span>
<div class="newline"></div></pre></div>
</div>
<p>There are also other types:</p>
<dl class="field-list">
<dt class="field-odd">Complex<span class="colon">:</span></dt>
<dd class="field-odd"><div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="n">j</span><span class="p">,</span> <span class="mi">3</span><span class="o">+</span><span class="mi">4</span><span class="n">j</span><span class="p">,</span> <span class="mi">5</span><span class="o">+</span><span class="mi">6</span><span class="o">*</span><span class="mi">1</span><span class="n">j</span><span class="p">])</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">dtype</span>
<div class="newline"></div><span class="go">dtype(&#39;complex128&#39;)</span>
<div class="newline"></div></pre></div>
</div>
</dd>
<dt class="field-even">Bool<span class="colon">:</span></dt>
<dd class="field-even"><div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">])</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">e</span><span class="o">.</span><span class="n">dtype</span>
<div class="newline"></div><span class="go">dtype(&#39;bool&#39;)</span>
<div class="newline"></div></pre></div>
</div>
</dd>
<dt class="field-odd">Strings<span class="colon">:</span></dt>
<dd class="field-odd"><div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;Bonjour&#39;</span><span class="p">,</span> <span class="s1">&#39;Hello&#39;</span><span class="p">,</span> <span class="s1">&#39;Hallo&#39;</span><span class="p">])</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">dtype</span>     <span class="c1"># &lt;--- strings containing max. 7 letters</span>
<div class="newline"></div><span class="go">dtype(&#39;&lt;U7&#39;)</span>
<div class="newline"></div></pre></div>
</div>
</dd>
<dt class="field-even">Much more<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">int32</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">int64</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uint32</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uint64</span></code></p></li>
</ul>
</dd>
</dl>
</section>
<section id="basic-visualization">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Basic visualization</a><a class="headerlink" href="#basic-visualization" title="Link to this heading">¶</a></h2>
<p>Now that we have our first data arrays, we are going to visualize them.</p>
<p>Start by launching IPython:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>ipython<span class="w"> </span><span class="c1"># or ipython3 depending on your install</span>
<div class="newline"></div></pre></div>
</div>
<p>Or the notebook:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>jupyter<span class="w"> </span>notebook
<div class="newline"></div></pre></div>
</div>
<p>Once IPython has started, enable interactive plots:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="o">%</span><span class="n">matplotlib</span>
<div class="newline"></div></pre></div>
</div>
<p>Or, from the notebook, enable plots in the notebook:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>
<div class="newline"></div></pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">inline</span></code> is important for the notebook, so that plots are displayed in
the notebook and not in a new window.</p>
<p><em>Matplotlib</em> is a 2D plotting package. We can import its functions as below:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>  <span class="c1"># the tidy way</span>
<div class="newline"></div></pre></div>
</div>
<p>And then use (note that you have to use <code class="docutils literal notranslate"><span class="pre">show</span></code> explicitly if you have not enabled interactive plots with <code class="docutils literal notranslate"><span class="pre">%matplotlib</span></code>):</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>       <span class="c1"># line plot</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>           <span class="c1"># &lt;-- shows the plot (not needed with interactive plots)</span>
<div class="newline"></div></pre></div>
</div>
<p>Or, if you have enabled interactive plots with <code class="docutils literal notranslate"><span class="pre">%matplotlib</span></code>:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>       <span class="c1"># line plot</span>
<div class="newline"></div></pre></div>
</div>
<ul class="simple">
<li><p><strong>1D plotting</strong>:</p></li>
</ul>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>       <span class="c1"># line plot</span>
<div class="newline"></div><span class="go">[&lt;matplotlib.lines.Line2D object at ...&gt;]</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">)</span>  <span class="c1"># dot plot</span>
<div class="newline"></div><span class="go">[&lt;matplotlib.lines.Line2D object at ...&gt;]</span>
<div class="newline"></div></pre></div>
</div>
<a class="reference external image-reference" href="auto_examples/plot_basic1dplot.html"><img alt="intro/numpy/auto_examples/images/sphx_glr_plot_basic1dplot_001.png" class="align-center" src="intro/numpy/auto_examples/images/sphx_glr_plot_basic1dplot_001.png" style="width: 40%;" />
</a>
<ul class="simple">
<li><p><strong>2D arrays</strong> (such as images):</p></li>
</ul>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="mi">27446968</span><span class="p">)</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">image</span> <span class="o">=</span> <span class="n">rng</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">))</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">hot</span><span class="p">)</span>
<div class="newline"></div><span class="go">&lt;matplotlib.image.AxesImage object at ...&gt;</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">()</span>
<div class="newline"></div><span class="go">&lt;matplotlib.colorbar.Colorbar object at ...&gt;</span>
<div class="newline"></div></pre></div>
</div>
<a class="reference external image-reference" href="auto_examples/plot_basic2dplot.html"><img alt="intro/numpy/auto_examples/images/sphx_glr_plot_basic2dplot_001.png" class="align-center" src="intro/numpy/auto_examples/images/sphx_glr_plot_basic2dplot_001.png" style="width: 50%;" />
</a>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>More in the: <a class="reference internal" href="../matplotlib/index.html#matplotlib"><span class="std std-ref">matplotlib chapter</span></a></p>
</div>
<aside class="topic green">
<p class="topic-title"><strong>Exercise: Simple visualizations</strong></p>
<ul class="simple">
<li><p>Plot some simple arrays: a cosine as a function of time and a 2D
matrix.</p></li>
<li><p>Try using the <code class="docutils literal notranslate"><span class="pre">gray</span></code> colormap on the 2D matrix.</p></li>
</ul>
</aside>
</section>
<section id="indexing-and-slicing">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Indexing and slicing</a><a class="headerlink" href="#indexing-and-slicing" title="Link to this heading">¶</a></h2>
<p>The items of an array can be accessed and assigned to the same way as
other Python sequences (e.g. lists):</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<div class="newline"></div><span class="go">array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">a</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<div class="newline"></div><span class="go">(np.int64(0), np.int64(2), np.int64(9))</span>
<div class="newline"></div></pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Indices begin at 0, like other Python sequences (and C/C++).
In contrast, in Fortran or Matlab, indices begin at 1.</p>
</div>
<p>The usual python idiom for reversing a sequence is supported:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<div class="newline"></div><span class="go">array([9, 8, 7, 6, 5, 4, 3, 2, 1, 0])</span>
<div class="newline"></div></pre></div>
</div>
<p>For multidimensional arrays, indices are tuples of integers:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">diag</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<div class="newline"></div><span class="go">array([[0, 0, 0],</span>
<div class="newline"></div><span class="go">       [0, 1, 0],</span>
<div class="newline"></div><span class="go">       [0, 0, 2]])</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<div class="newline"></div><span class="go">np.int64(1)</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span> <span class="c1"># third line, second column</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<div class="newline"></div><span class="go">array([[ 0,  0,  0],</span>
<div class="newline"></div><span class="go">       [ 0,  1,  0],</span>
<div class="newline"></div><span class="go">       [ 0, 10,  2]])</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<div class="newline"></div><span class="go">array([0, 1, 0])</span>
<div class="newline"></div></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>In 2D, the first dimension corresponds to <strong>rows</strong>, the second
to <strong>columns</strong>.</p></li>
<li><p>for multidimensional <code class="docutils literal notranslate"><span class="pre">a</span></code>, <code class="docutils literal notranslate"><span class="pre">a[0]</span></code> is interpreted by
taking all elements in the unspecified dimensions.</p></li>
</ul>
</div>
<p><strong>Slicing</strong>: Arrays, like other Python sequences can also be sliced:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<div class="newline"></div><span class="go">array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">9</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="c1"># [start:end:step]</span>
<div class="newline"></div><span class="go">array([2, 5, 8])</span>
<div class="newline"></div></pre></div>
</div>
<p>Note that the last index is not included! :</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span>
<div class="newline"></div><span class="go">array([0, 1, 2, 3])</span>
<div class="newline"></div></pre></div>
</div>
<p>All three slice components are not required: by default, <cite>start</cite> is 0,
<cite>end</cite> is the last and <cite>step</cite> is 1:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<div class="newline"></div><span class="go">array([1, 2])</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[::</span><span class="mi">2</span><span class="p">]</span>
<div class="newline"></div><span class="go">array([0, 2, 4, 6, 8])</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="mi">3</span><span class="p">:]</span>
<div class="newline"></div><span class="go">array([3, 4, 5, 6, 7, 8, 9])</span>
<div class="newline"></div></pre></div>
</div>
<p>A small illustrated summary of NumPy indexing and slicing…</p>
<a class="reference internal image-reference" href="../../_images/numpy_indexing.png"><img alt="../../_images/numpy_indexing.png" class="align-center" src="../../_images/numpy_indexing.png" style="width: 70%;" />
</a>
<p>You can also combine assignment and slicing:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="mi">5</span><span class="p">:]</span> <span class="o">=</span> <span class="mi">10</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<div class="newline"></div><span class="go">array([ 0,  1,  2,  3,  4, 10, 10, 10, 10, 10])</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="mi">5</span><span class="p">:]</span> <span class="o">=</span> <span class="n">b</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<div class="newline"></div><span class="go">array([0, 1, 2, 3, 4, 4, 3, 2, 1, 0])</span>
<div class="newline"></div></pre></div>
</div>
<aside class="topic green">
<p class="topic-title"><strong>Exercise: Indexing and slicing</strong></p>
<ul>
<li><p>Try the different flavours of slicing, using <code class="docutils literal notranslate"><span class="pre">start</span></code>, <code class="docutils literal notranslate"><span class="pre">end</span></code> and
<code class="docutils literal notranslate"><span class="pre">step</span></code>: starting from a linspace, try to obtain odd numbers
counting backwards, and even numbers counting forwards.</p></li>
<li><p>Reproduce the slices in the diagram above. You may
use the following expression to create the array:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span> <span class="mi">10</span><span class="p">)[:,</span> <span class="n">np</span><span class="o">.</span><span class="n">newaxis</span><span class="p">]</span>
<div class="newline"></div><span class="go">array([[ 0,  1,  2,  3,  4,  5],</span>
<div class="newline"></div><span class="go">       [10, 11, 12, 13, 14, 15],</span>
<div class="newline"></div><span class="go">       [20, 21, 22, 23, 24, 25],</span>
<div class="newline"></div><span class="go">       [30, 31, 32, 33, 34, 35],</span>
<div class="newline"></div><span class="go">       [40, 41, 42, 43, 44, 45],</span>
<div class="newline"></div><span class="go">       [50, 51, 52, 53, 54, 55]])</span>
<div class="newline"></div></pre></div>
</div>
</li>
</ul>
</aside>
<aside class="topic green">
<p class="topic-title"><strong>Exercise: Array creation</strong></p>
<p>Create the following arrays (with correct data types):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<div class="newline"></div> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<div class="newline"></div> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<div class="newline"></div> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<div class="newline"></div>
<div class="newline"></div><span class="p">[[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span>
<div class="newline"></div> <span class="p">[</span><span class="mf">2.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span>
<div class="newline"></div> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span>
<div class="newline"></div> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span>
<div class="newline"></div> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">5.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span>
<div class="newline"></div> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">6.</span><span class="p">]]</span>
<div class="newline"></div></pre></div>
</div>
<p>Par on course: 3 statements for each</p>
<p><em>Hint</em>: Individual array elements can be accessed similarly to a list,
e.g. <code class="docutils literal notranslate"><span class="pre">a[1]</span></code> or <code class="docutils literal notranslate"><span class="pre">a[1,</span> <span class="pre">2]</span></code>.</p>
<p><em>Hint</em>: Examine the docstring for <code class="docutils literal notranslate"><span class="pre">diag</span></code>.</p>
</aside>
<aside class="topic green">
<p class="topic-title">Exercise: Tiling for array creation</p>
<p>Skim through the documentation for <code class="docutils literal notranslate"><span class="pre">np.tile</span></code>, and use this function
to construct the array:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
<div class="newline"></div> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<div class="newline"></div> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
<div class="newline"></div> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<div class="newline"></div></pre></div>
</div>
</aside>
</section>
<section id="copies-and-views">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Copies and views</a><a class="headerlink" href="#copies-and-views" title="Link to this heading">¶</a></h2>
<p>A slicing operation creates a <strong>view</strong> on the original array, which is
just a way of accessing array data. Thus the original array is not
copied in memory. You can use <code class="docutils literal notranslate"><span class="pre">np.may_share_memory()</span></code> to check if two arrays
share the same memory block. Note however, that this uses heuristics and may
give you false positives.</p>
<p><strong>When modifying the view, the original array is modified as well</strong>:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<div class="newline"></div><span class="go">array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="p">[::</span><span class="mi">2</span><span class="p">]</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span>
<div class="newline"></div><span class="go">array([0, 2, 4, 6, 8])</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">may_share_memory</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<div class="newline"></div><span class="go">True</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">12</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span>
<div class="newline"></div><span class="go">array([12,  2,  4,  6,  8])</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>   <span class="c1"># (!)</span>
<div class="newline"></div><span class="go">array([12,  1,  2,  3,  4,  5,  6,  7,  8,  9])</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">a</span><span class="p">[::</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>  <span class="c1"># force a copy</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">12</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<div class="newline"></div><span class="go">array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</span>
<div class="newline"></div>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">may_share_memory</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
<div class="newline"></div><span class="go">False</span>
<div class="newline"></div></pre></div>
</div>
<p>This behavior can be surprising at first sight… but it allows to save both
memory and time.</p>
<aside class="topic green">
<p class="topic-title">Worked example: Prime number sieve</p>
<img alt="../../_images/prime-sieve.png" src="../../_images/prime-sieve.png" />
<p>Compute prime numbers in 0–99, with a sieve</p>
<ul class="simple">
<li><p>Construct a shape (100,) boolean array <code class="docutils literal notranslate"><span class="pre">is_prime</span></code>,
filled with True in the beginning:</p></li>
</ul>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">is_prime</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">100</span><span class="p">,),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">)</span>
<div class="newline"></div></pre></div>
</div>
<ul class="simple">
<li><p>Cross out 0 and 1 which are not primes:</p></li>
</ul>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">is_prime</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<div class="newline"></div></pre></div>
</div>
<ul class="simple">
<li><p>For each integer <code class="docutils literal notranslate"><span class="pre">j</span></code> starting from 2, cross out its higher multiples:</p></li>
</ul>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">N_max</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">is_prime</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">N_max</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
<div class="newline"></div><span class="gp">... </span>    <span class="n">is_prime</span><span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">j</span><span class="p">::</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
<div class="newline"></div></pre></div>
</div>
<ul>
<li><p>Skim through <code class="docutils literal notranslate"><span class="pre">help(np.nonzero)</span></code>, and print the prime numbers</p></li>
<li><p>Follow-up:</p>
<ul class="simple">
<li><p>Move the above code into a script file named <code class="docutils literal notranslate"><span class="pre">prime_sieve.py</span></code></p></li>
<li><p>Run it to check it works</p></li>
<li><p>Use the optimization suggested in <a class="reference external" href="https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes">the sieve of Eratosthenes</a>:</p></li>
</ul>
<blockquote>
<div><ol class="arabic simple">
<li><p>Skip <code class="docutils literal notranslate"><span class="pre">j</span></code> which are already known to not be primes</p></li>
<li><p>The first number to cross out is <img class="math" src="../../_images/math/f5625ee54ea1ae00751c9217bac7326617e7304e.png" alt="j^2" style="vertical-align: -4px"/></p></li>
</ol>
</div></blockquote>
</li>
</ul>
</aside>
</section>
<section id="fancy-indexing">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Fancy indexing</a><a class="headerlink" href="#fancy-indexing" title="Link to this heading">¶</a></h2>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>NumPy arrays can be indexed with slices, but also with boolean or
integer arrays (<strong>masks</strong>). This method is called <em>fancy indexing</em>.
It creates <strong>copies not views</strong>.</p>
</div>
<section id="using-boolean-masks">
<h3>Using boolean masks<a class="headerlink" href="#using-boolean-masks" title="Link to this heading">¶</a></h3>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="mi">27446968</span><span class="p">)</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">rng</span><span class="o">.</span><span class="n">integers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<div class="newline"></div><span class="go">array([ 3, 13, 12, 10, 10, 10, 18,  4,  8,  5,  6, 11, 12, 17,  3])</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">a</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<div class="newline"></div><span class="go">array([ True, False,  True, False, False, False,  True, False, False,</span>
<div class="newline"></div><span class="go">       False,  True, False,  True, False,  True])</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">mask</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">extract_from_a</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span> <span class="c1"># or,  a[a%3==0]</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">extract_from_a</span>           <span class="c1"># extract a sub-array with the mask</span>
<div class="newline"></div><span class="go">array([ 3, 12, 18,  6, 12,  3])</span>
<div class="newline"></div></pre></div>
</div>
<p>Indexing with a mask can be very useful to assign a new value to a sub-array:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="n">a</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<div class="newline"></div><span class="go">array([-1, 13, -1, 10, 10, 10, -1,  4,  8,  5, -1, 11, -1, 17, -1])</span>
<div class="newline"></div></pre></div>
</div>
</section>
<section id="indexing-with-an-array-of-integers">
<h3>Indexing with an array of integers<a class="headerlink" href="#indexing-with-an-array-of-integers" title="Link to this heading">¶</a></h3>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<div class="newline"></div><span class="go">array([ 0, 10, 20, 30, 40, 50, 60, 70, 80, 90])</span>
<div class="newline"></div></pre></div>
</div>
<p>Indexing can be done with an array of integers, where the same index is repeated
several time:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span>  <span class="c1"># note: [2, 3, 2, 4, 2] is a Python list</span>
<div class="newline"></div><span class="go">array([20, 30, 20, 40, 20])</span>
<div class="newline"></div></pre></div>
</div>
<p>New values can be assigned with this kind of indexing:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">7</span><span class="p">]]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">100</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<div class="newline"></div><span class="go">array([   0,   10,   20,   30,   40,   50,   60, -100,   80, -100])</span>
<div class="newline"></div></pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>When a new array is created by indexing with an array of integers, the
new array has the same shape as the array of integers:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">7</span><span class="p">]])</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span><span class="o">.</span><span class="n">shape</span>
<div class="newline"></div><span class="go">(2, 2)</span>
<div class="newline"></div><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
<div class="newline"></div><span class="go">array([[3, 4],</span>
<div class="newline"></div><span class="go">       [9, 7]])</span>
<div class="newline"></div></pre></div>
</div>
</div>
<hr class="docutils" />
<p>The image below illustrates various fancy indexing applications</p>
<a class="reference internal image-reference" href="../../_images/numpy_fancy_indexing.png"><img alt="../../_images/numpy_fancy_indexing.png" class="align-center" src="../../_images/numpy_fancy_indexing.png" style="width: 80%;" />
</a>
<aside class="topic green">
<p class="topic-title"><strong>Exercise: Fancy indexing</strong></p>
<ul class="simple">
<li><p>Again, reproduce the fancy indexing shown in the diagram above.</p></li>
<li><p>Use fancy indexing on the left and array creation on the right to assign
values into an array, for instance by setting parts of the array in
the diagram above to zero.</p></li>
</ul>
</aside>
<p><div style="clear: both"></div></p>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a></li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Scientific Python Lectures</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">The NumPy array object</a></li>
     
    <!-- Insert a tip toggle in the navigation bar -->
        <li class="left">
        <!-- On click, expand all tips -->
        <!--
        <a>
            <img src="../../_static/plus.png"
                 alt="Expand tips" style="padding: 1ex;"/>
            <span class="hiddenlink">Collapse document to compact view</span>
        </a>
        -->
        </li>
    <li class="right edit_on_github"><a href="https://github.com/scipy-lectures/scientific-python-lectures/edit/main/intro/numpy/array_object.rst">Edit
      <span class="tooltip">
        Improve this page:<br/>Edit it on Github.
      </span>
    </a>
    </li>
    
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 1980.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    </div>
  </body>
</html>